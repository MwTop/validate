(function(p,d,k){d.fn.validate=function(l){return this.each(function(){var f=d(this);if(k===f.data("validate")){var i=new d.validate(l,f);f.data("validate",i)}})};d.validate=function(l,f){function i(a,b){-1==d.inArray(a,b)&&b.push(a);return b}function n(a){a=a.slice(a.indexOf("[")+1,-1);return-1!==a.indexOf(",")?a.split(","):[a]}function m(a){for(var b=[],c=0;c<a.length;c++){var g=a[c],d=[],h=g.indexOf("[");-1!==h&&(d=d.concat(n(g)),g=g.slice(0,h));b.push({rule:g,args:d})}return b}var h=d.extend(!0,
{debug:!1,autoDetect:!1,visibleOnly:!0,beforeSubmit:function(){},singleError:function(){},overallError:function(){},singleSuccess:function(){},overallSuccess:function(){},regExp:{alpha:/^[a-zA-Z]*$/,numeric:/^[0-9]*$/,alphanumeric:/^[a-zA-Z0-9]*$/,url:/^(ftp|http|https):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?$/,email:/^[a-z0-9!#$%&'*+\/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+\/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9\-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/}},l),c=this,o=["checkGroupRequired",
"checkGroupMin","checkGroupMax"];c.$form=f;c.version="1.0.0";if(f!==k)f.on("submit",function(a){(!c.validate()||h.debug)&&a.preventDefault()});c.validate=function(a){var a="undefined"===typeof a?c.$form:a,b=!1,e=d();h.beforeSubmit.call(c);c.fieldsToCheck(a).each(function(){var a=d(this);if((h.visibleOnly&&a.is(":visible")||!h.visibleOnly)&&!c.checkField(a))b=!0,e=e.add(a)});b?h.overallError.call(c,a,e):!1===h.overallSuccess.call(c,a)&&(b=!0);return!b};c.checkField=function(a){var b=a.data("validate")?
a.data("validate").split("|"):[];a.val();var e=[];if(h.autoDetect&&a.is('input:not([type="checkbox"], [type="radio"])')&&"text"!=a.attr("type"))switch(e=a.attr("type"),e){case "number":b=i("numeric",b);break;default:b=i(e,b)}b=m(b);e=c.checkValue(a,b);if(e instanceof Object)return h.singleError.call(c,a,e),!1;h.singleSuccess.call(c,a,b);return!0};c.checkValue=function(a,b){if(!b)return!0;for(var b="string"==typeof b?m(b):b,e=[],g=0;g<b.length;g++){var f=b[g].rule,j="",i=[a].concat(b[g].args.slice());
f.indexOf("[");j="check"+f.charAt(0).toUpperCase()+f.slice(1);"checkRequired"==j&&a.is('input[type="checkbox"]')?j="checkRequiredCheckbox":-1!=d.inArray(j,o)&&(f=d('input[type="checkbox"]',a),f.length||(f=d('input[type="radio"]',a)),i=[f].concat(i.slice(1)));c[j]instanceof Function?c[j].apply(c,i)||e.push(b[g]):h.regExp[b[g].rule]?""!==a.val()&&!c.checkRegExp(a,b[g].rule)&&e.push(b[g]):e.push(b[g])}return 0<e.length?e:!0};c.fieldsToCheck=function(a){a=d("[data-validate]",a===k?c.$form:a);h.autoDetect&&
(a=d("input[required]").add(a));return a};c.checkRequired=function(a){return 0<a.val().length?!0:!1};c.checkRequiredCheckbox=function(a){return a.is(":checked")};c.checkGroupRequired=function(a){return a.filter(":checked").length?!0:!1};c.checkGroupMin=function(a,b){return a.filter(":checked").length>=b};c.checkGroupMax=function(a,b){return a.filter(":checked").length<=b};c.checkCustomRegExp=function(a,b,c){if(""===a.val())return!0;b=RegExp(b,c);return a.val().match(b)?!0:!1};c.checkRegExp=function(a,
b){return a.val().match(h.regExp[b])?!0:!1};c.checkMaxLength=function(a,b){return""===a.val()?!0:a.val().length<=b};c.checkMinLength=function(a,b){return""===a.val()?!0:a.val().length>=b};c.checkMax=function(a,b){return""===a.val()?!0:parseFloat(a.val())<=parseFloat(b)};c.checkMin=function(a,b){return""===a.val()?!0:parseFloat(a.val())>=parseFloat(b)}}})(window,jQuery);